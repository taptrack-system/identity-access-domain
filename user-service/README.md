# User Service

## Exemplos de Requisições

### Listar Usuários

* Método: GET
* URL: http://localhost:8081/api/v1/users

**Request**

```
curl --location 'http://localhost:8081/api/v1/users'
```

**Response**

```json
[
  {
    "id": 1,
    "firstName": "Alice",
    "lastName": "Silva",
    "email": "alice@example.com"
  },
  {
    "id": 2,
    "firstName": "Bruno",
    "lastName": "Costa",
    "email": "bruno@example.com"
  },
  {
    "id": 3,
    "firstName": "Carla",
    "lastName": "Santos",
    "email": "carla@example.com"
  }
]
```

### Buscar Usuário por ID

* Método: GET
* URL: http://localhost:8081/api/v1/users/{userId}

**Request**

```
curl --location 'http://localhost:8081/api/v1/users/2'
```

**Response**

```json
{
  "id": 2,
  "firstName": "Bruno",
  "lastName": "Costa",
  "email": "bruno@example.com"
}
```

### Cadastrar Usuário

* Método: POST
* URL: http://localhost:8081/api/v1/users

**Request**

```

```

**Response**

```json

```

### Atualizar Usuário por ID (Completo)

* Método: PUT
* URL: http://localhost:8081/api/v1/users/{userId}

**Request**

```

```

**Response**

```json

```

### Atualizar Usuário por ID (Parcial)

* Método: PATCH
* URL: http://localhost:8081/api/v1/users/{userId}

**Request**

```

```

**Response**

```json

```

### Excluir Usuário por ID

* Método: DELETE
* URL: http://localhost:8081/api/v1/users/{userId}

**Request**

```

```

**Response**

```json

```

---

## Tabelas SQL

```sql
create table users (
    id bigint generated by default as identity,
    email varchar(150) not null,
    first_name varchar(50) not null,
    last_name varchar(50) not null,
    primary key (id)
)
```

## Como Executar

### Executar Local (H2 Database)

```bash
spring-boot:run --spring.profiles.active=local --env-file .env.local
```

### Executar em Produção (PostgreSQL Database)

```bash
java -jar user-service.jar --spring.profiles.active=prod --env-file .env
```

---

## Executando no IntelliJ

Utilizando Variáveis de Ambiente carregadas direto na configuração de execução do IntelliJ (
`Run > Edit Configurations... > Environment variables`):

### Application Local (H2 Database)

```
SPRING_PROFILES_ACTIVE=local;APP_PORT=8081;DB_URL=jdbc:h2:mem:usersdb;DB_DRIVER=org.h2.Driver;DB_USER=sa;DB_PASSWORD=
```

### Application Produção (PostgreSQL Database)

```
SPRING_PROFILES_ACTIVE=prod;APP_PORT=8081;DB_HOST=localhost;DB_PORT=5432;DB_NAME=usersdb;DB_USER=admin;DB_PASSWORD=secret123
```